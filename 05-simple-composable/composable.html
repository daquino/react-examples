<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>untitled</title>
        <link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"/>
        <script src="http://fb.me/react-0.13.3.js"></script>
        <script src="http://fb.me/JSXTransformer-0.13.3.js"></script>
        <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    </head>
    <body>
      <script type="text/jsx">
          /** @jsx React.DOM */
          var cards = [
            {
              name: "Alexstrasza",
              type: "Minion",
              effect: "Battlecry: Set a hero's remaining Health to 15.",
              image: "http://media-hearth.cursecdn.com/avatars/148/446/303.png"
            },
            {
              name: "Leper Gnome",
              type: "Minion",
              effect: "Deathrattle: Deal 2 damage to the enemy hero.",
              image: "http://media-hearth.cursecdn.com/avatars/147/851/513.png"
            },
            {
              name: "Fireball",
              type: "Minion",
              effect: "Deal 6 damage.",
              image: "http://media-hearth.cursecdn.com/avatars/147/429/522.png"
            }
          ];
          var deck = [
            {
              name: "Mana Wyrm",
              type: "Minion",
              effect: "Whenever you cast a spell, gain +1 Attack.",
              image: "http://media-hearth.cursecdn.com/avatars/149/484/263.png"
            },
            {
              name: "Sorcerer's Apprentice",
              type: "Minion",
              effect: "Your spells cost (1) less.",
              image: "http://media-hearth.cursecdn.com/avatars/148/550/4.png"
            },
            {
              name: "Hungry Dragon",
              type: "Minion",
              effect: "Battlecry: Summon a random 1-Cost minion for your opponent.",
              image: "http://media-hearth.cursecdn.com/avatars/198/17/14436.png"
            }
          ];

          var Main = React.createClass({
            render: function() {
              return (
                <div className="container">
                  <div className="row">
                    <div className="col-md-3">
                      <h1>Deck</h1>
                      <Deck cards={this.props.deck} />
                    </div>
                    <div className="col-md-9">
                      <h1 className="text-center">Choose a card</h1>
                      <CardGroup cards={this.props.cards}/>
                    </div>
                  </div>
                </div>
              );
            }
          });

          var Deck = React.createClass({

            render: function() {
              var cards = this.props.cards.map(function(item, i) {
                return (
                  <div className="row">
                    <Card key={i} card={item} colSpan="12" height="150px"/>
                  </div>
                );
              });
              return (
                <div>
                  {cards}
                </div>
              );
            }
          });

          var CardGroup = React.createClass({
            render: function() {
              var cardItems = this.props.cards.map(function(item, i) {
                return <Card key={i} card={item} colSpan="4" />;
              });
              return (
                  <div className="row">
                    {cardItems}
                  </div>
              );
            }

          });

          var Card = React.createClass({
            render: function() {
              var imageStyle = this.props.height == null ? null : {height: this.props.height};
              return (
                <div className={"col-md-"+this.props.colSpan}>
                  <img className="img-rounded" src={this.props.card.image} style={imageStyle}/>
                </div>
              );
            }
          });

          React.render(<Main cards={cards} deck={deck} />, document.body);
      </script>
    </body>
</html>
